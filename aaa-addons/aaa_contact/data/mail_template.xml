<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
       <record id="partner_active_false" model="mail.template">
        <field name="name">Contacts archivÃ©s</field>
        <field name="model_id" ref="base.model_res_partner"/>
        <field name="email_from">${ctx['email_from'] | safe}</field>
        <field name="partner_to">${ctx['partner_to']}</field>
        <field name="subject">La liste des contacts archives</field>
        <field name="body_html">
             <![CDATA[
<p>Bonjour,</p>
<p>    Voici la liste des contacts archives </p>

<table class="table table-hover">
  <thead>
    <tr>
      <th>ID</th>
      <th>Nom</th>
      <th>Email</th>
    </tr>
  </thead>
    <tbody>
        % set partner_ids = ctx['partner_ids']
        % set partners = user.env['res.partner'].browse(partner_ids)
         % for partner in partners:
    <tr>
        <td>${partner['id']}</td>
      <td>${partner['name']}</td>
      <td>@${partner['email']}</td>
    </tr>
         % endfor
    </tbody>
</table>
]]>
        </field>
       </record>
 
    </data>
</odoo>